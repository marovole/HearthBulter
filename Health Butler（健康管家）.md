# 🩺 Health Butler（健康管家）产品文档（版本化）

本文件作为 Health Butler 的**产品文档主入口**，采用“版本化”方式管理：新版本 PRD 在上方维护，历史版本收纳在下方归档。

## 版本管理

| 版本      | 状态        | 文档类型 | 日期       | 说明                                                                |
| --------- | ----------- | -------- | ---------- | ------------------------------------------------------------------- |
| **vNext** | ✅ Active   | PRD      | 2026-01-02 | **随身健康管家**：主动性（提醒/复盘）+ 自动化执行（清单/替代/确认） |
| **v0.2**  | 🗄️ Archived | Concept  | 2025-10-29 | 动态饮食引擎概念稿（健康数据 + 电商库存驱动）                       |

### 变更记录

- **2026-01-02**：新增 vNext PRD（随身健康管家），并将 v0.2 概念稿折叠归档在本文末尾。

---

# vNext PRD：随身健康管家（主动性 + 自动化执行）

**定位**: 仅服务一个家庭的“长期运行健康运营系统”  
**目标**: 让健康管理从“想起来再做”变成“管家主动推进”，并在可控边界内完成自动化执行

> 注：医疗诊断与处方属于持证医疗人员职责；本产品聚焦于**组织、落地、复盘、风险提示与行为执行**。

---

## 1. 背景与机会

家庭健康管理的真实痛点往往不是“没有数据/没有知识”，而是：

- **缺少主动推进**：用户需要持续决策与记忆（认知负担高），健康管理容易中断。
- **缺少闭环执行**：计划再好也会被“采购、缺货、预算、临期、口味差异、日程变化”击穿。
- **家庭成员差异大**：夫妇/子女/老人目标与风险不同，单人健康应用难以覆盖家庭真实场景。

vNext 的核心，是把产品做成一个“随身健康管家”：  
**目标明确 → 数据可信 → 行动可执行 → 风险可控 → 持续迭代**。

---

## 2. 产品愿景与一句话定义

### 2.1 愿景

让个人与家庭的健康管理从「主观感性」走向「客观数据驱动」，并把“健康计划”变成“日常自动运行的家庭系统”。

### 2.2 一句话定义

**一个会主动推进、可解释、可撤销的家庭健康管家：自动生成并持续更新食谱与购物清单，驱动家庭执行与复盘。**

---

## 3. 目标用户与家庭角色

家庭角色（同一产品内的不同策略重点）：

- **夫妇（主劳动力）**：压力与睡眠优先级、可持续训练/饮食、心代谢风险控制、出差/应酬适配。
- **子女**：生长发育（生长曲线）、营养均衡（钙铁维D等）、运动技能与作息、考试/压力期策略。
- **老人**：防跌倒、抗肌少（蛋白+力量）、用药安全、慢病随访提醒、认知与社交维持。

---

## 4. 产品原则（vNext 的“管家方式”）

### 4.1 渐进自治（Progressive Autonomy）

把高价值自动化做出来，但按信任分层逐步开启：

- **Level 1：提醒与复盘（低风险底座）**  
  所有主动性收敛到“管家收件箱/今日任务”；推送只是入口，不以“通知轰炸”代替产品价值。
- **Level 2：自动化执行（必须落地）**  
  默认自动生成并**持续更新购物清单/替代方案**；涉及“花钱/改变计划”的动作走**一键确认**。
- **Level 3：更高自治（高级）**  
  在明确授权下自动下单/自动调整下周计划，并提供撤销与审计。

### 4.2 低打扰，高行动

- 日常只推 1–2 件“最关键下一步动作（Next Best Action）”
- 重大风险才允许“打断式通知”

### 4.3 可解释、可控、可撤销

系统做的每个建议/替代/调整都必须：

- **解释依据**：目标/过敏/预算/库存/偏好/历史执行
- **给出动作**：一键确认/改成别的/暂停/以后别提示
- **可追溯**：完整审计日志（系统做了什么、何时、为什么）

### 4.4 风险可控与合规边界

- 不做医疗诊断；对异常只做“风险提示 + 建议行动（复查/就医/记录）”
- 敏感健康数据默认最小化展示与最小化推送（含家庭成员权限）

---

## 5. 核心体验（用户旅程）

### 5.1 第一次使用（2–10 分钟完成）

1. 创建家庭与成员：基础信息、目标、过敏/忌口、预算偏好、重要疾病/用药（可选）。
2. 设置“管家规则”：静默时段、提醒频率、紧急触发阈值、谁能替谁确认清单。
3. 生成“本周计划草稿”：基础食谱 + 购物清单草稿 + 预算预估。

### 5.2 日常（每天 30 秒）

入口：**管家收件箱 / 今日任务**

- 今日最关键 1–2 个任务（例如：称重/补蛋白/饭后走 20 分钟/补水/老人力量练习）
- 晚间微复盘：执行率、偏差、明日最小调整

### 5.3 每周（15 分钟家庭复盘）

系统自动生成：

- 上周复盘：关键趋势、执行率、偏差原因（可选择主观原因标签）
- 下周计划草稿：食谱 + 购物清单 + 预算预估
  用户只需要：
- 一键确认 / 小幅修改 / 暂停某些成员策略

### 5.4 变化发生时（系统主动处理）

触发：缺货/涨价/临期/预算超标/执行偏差/旅行聚会  
系统行为：

- 自动更新购物清单与替代方案，并说明“为什么改、影响什么”
- 如涉及“花钱/改变计划”，发起确认卡片（而非直接执行）

---

## 6. 功能需求（vNext）

### 6.1 管家收件箱（核心界面）

**Requirement**

- 系统 SHALL 提供一个统一入口展示：任务、提醒、建议、待确认事项、风险提示。
- 系统 SHALL 支持按成员过滤与家庭汇总视图。

**关键点**

- 任务卡必须包含：为什么（依据）/怎么做（动作）/完成按钮/跳过原因。

### 6.2 下一步动作引擎（Next Best Action）

**触发器类型**

- 时间驱动：每日/每周固定节奏（称重、复盘、采购、补货）
- 数据驱动：趋势异常、执行率下降、睡眠崩溃、摄入偏差
- 库存/预算驱动：临期、低库存、超预算、价格异常
- 场景驱动：出差/旅行/聚会/孩子考试/老人睡眠变差

**决策规则（MVP）**

- 每人每天最多 1–2 个任务；家庭级最多 3–4 个（可配置）
- 优先级：安全风险 > 目标偏差 > 执行阻塞 > 优化建议

### 6.3 复盘系统（每日微复盘 + 每周复盘）

**每日微复盘**

- 系统 SHALL 汇总当天关键任务执行情况与偏差，并给出明日最小调整。

**每周复盘**

- 系统 SHALL 生成周报：趋势、执行率、偏差原因、下周计划草稿。
- 系统 SHALL 提供“一键确认下周计划”。

### 6.4 自动化购物清单（必须落地）

**MVP 形态**

- 系统 SHALL 从下周食谱草稿自动生成购物清单（合并去重、按品类/保质期排序）。
- 系统 SHALL 估算预算，并在超预算时给出降级建议（替代食材/调整餐次）。
- 系统 SHALL 在缺货/涨价/临期/偏好冲突时给出替代方案并自动更新清单草稿。
- 系统 SHALL 对“会花钱/会改变计划”的操作要求用户确认（Level 2 边界）。

### 6.5 替代策略（可解释）

每次替代必须输出：

- 替代理由（缺货/价格/临期/过敏/偏好/目标）
- 影响评估（热量/蛋白/碳脂/钠糖等关键维度，MVP 可只做宏量）
- 一键选择：接受替代 / 查看其它替代 / 维持原方案 / 暂停该食材

### 6.6 通知与节流（不打扰）

渠道（按用户授权逐步启用）：

- 站内（必须）
- 邮件（可选）
- 推送（可选）

规则：

- 站内可无限展示；外部推送必须节流（频率/静默时段/严重等级）。

### 6.7 权限、隐私与审计（家庭场景必须）

- 家庭中每个成员的健康信息可见性可配置（例如：父母可见子女；老人可能只给关键指标）。
- 所有系统自动调整必须写入审计日志（时间、对象、原因、变更前后摘要）。
- 支持撤销：至少对“清单更新/替代选择/任务策略”可撤销回滚。

---

## 7. 关键指标（衡量“像管家”）

行为与留存：

- D7/D30 留存、每周复盘完成率、任务完成率（按成员）
- 购物清单确认率、替代方案接受率、清单被手动大改的比例

效果（避免承诺医疗结果，强调趋势与过程）：

- 目标一致性：摄入偏差降低、体重趋势更稳定、老人力量训练持续性、儿童作息稳定性

体验安全：

- 通知退订率/静默开启率、误报率（用户标记“无用/打扰”）

---

## 8. 风险与对策

- **通知疲劳** → 统一入口（收件箱）+ 外部推送节流 + 只推下一步动作
- **过度自治导致不信任** → 所有变更可解释、可撤销、可审计；涉及花钱必须确认
- **健康数据敏感** → 权限分层、最小化展示、加密与合规提示
- **执行受现实打断（外食/旅行/忙）** → “忙碌日模式/外食模式/旅行模式”作为策略切换

---

## 9. 里程碑建议（vNext 切片）

### Milestone A：把主动性做成体系（Level 1）

- 管家收件箱 + 今日任务
- 每日微复盘 + 每周复盘 + 下周计划草稿
- 触发器与节流规则（最小实现）

### Milestone B：自动化执行落地（Level 2）

- 自动生成并持续更新购物清单（缺货/涨价/临期/预算）
- 可解释替代 + 一键确认
- 审计日志 + 撤销

### Milestone C：更高自治（Level 3，后续）

- 对接单一平台一键下单/自动下单（需明确授权与风控）
- 更精细的个体化策略与风险阈值（与专业团队协作）

---

## 10. 开放问题（需要产品决策）

- vNext 的“默认节奏”是什么？（每日任务、每周复盘、每周采购的默认时间）
- 家庭内的“确认权限”如何设计？（谁能替谁确认清单/替代）
- 异常提醒的阈值从何而来？（经验规则 vs 用户自定义 vs 医生建议）
- 自动化执行的边界：先做到“清单自动更新”还是直接“一键下单”？

---

## 11. 版本规划（作为下一步开发基础）

> 规划基于本文件的 vNext PRD（主动性 + 自动化执行），按“渐进自治”拆分成可交付版本，尽量做到**每个版本都有可用闭环**，并为后续 Level 2/3 做铺垫。

### 11.1 版本命名与发布节奏（建议）

- **版本号策略（SemVer）**：`0.x` 阶段以 Minor 版本承载可见能力增量；Patch 版本只做修复与稳定性。
- **发布节奏（建议）**：以 1–2 周为一个迭代，按版本打包发布；每个版本必须有“可验证的用户价值 + 可量化指标”。

### 11.2 发布前置（v0.2.x 稳定化门槛，阻塞后续交付）

这些不一定需要对外宣传，但会直接决定 v0.3+ 的交付效率与线上风险：

- **构建/类型门槛**：逐步关闭 `ignoreBuildErrors`/`ignoreDuringBuilds`，确保 CI 的 `type-check/lint/test/build` 能真实反映质量。
- **脚本可移植性**：清理硬编码本机路径（例如 `/Users/...`），保证团队/CI 可复现构建与部署。
- **定时任务方案确定**：明确“每日/每周复盘、清单更新、摘要推送”的调度载体（Cloudflare Cron / Supabase 定时 / 外部调度），避免后续返工。

### 11.3 v0.3.0（Level 1）— 管家入口：收件箱 + 今日任务（MVP）

**目标**：把“主动性”收敛成统一入口，做到“每天 30 秒可完成 1–2 个关键动作”。

**交付范围（Must）**

- **管家收件箱页面**：家庭汇总 + 按成员过滤（任务/通知/建议/待确认占位）。
- **任务系统可用**：查看“我的任务”、完成/跳过（含原因），形成最小执行闭环。
- **通知基础能力**：站内通知可用，并可在收件箱聚合展示（复用现有 Notification 组件/偏好设置）。
- **节流与静默**：支持静默时段/每日最大通知数（先从站内/摘要开始）。

**验收标准**

- 新用户完成“创建家庭/成员 → 打开收件箱 → 完成一个任务”闭环。
- 任务/通知在同一入口可检索、可标记已读/完成。

### 11.4 v0.4.0（Level 1）— 复盘闭环：每日微复盘 + 每周复盘（草稿）

**目标**：把“执行→复盘→下次更好执行”跑起来，哪怕先是规则版/模板版。

**交付范围（Must）**

- **每日微复盘**：完成情况汇总 + 明日 1–2 个“下一步动作”推荐。
- **每周复盘草稿**：趋势（体重/睡眠/记录/任务执行率）+ 偏差原因标签 + 下周计划草稿入口。
- **偏好/阈值入口（MVP）**：用户可选择“更保守/更积极”的提醒强度（避免误伤）。

**验收标准**

- 一周内用户至少 1 次看到“周报草稿”，并能一键确认“下周计划草稿”的生成（不要求自动执行）。

### 11.5 v0.5.0（Level 2）— 自动化执行：购物清单自动生成 + 可解释替代 + 一键确认

**目标**：让“计划落地”不再被采购与变化击穿；系统先把繁琐工作做好，用户只做确认。

**交付范围（Must）**

- **从食谱/计划生成购物清单（草稿）**：合并去重、按品类/保质期排序、预算预估。
- **替代策略 v1**：缺货/涨价/临期/偏好冲突 → 给出替代（可解释）并更新草稿。
- **确认机制**：任何“会花钱/会改变计划”的调整必须走“一键确认/拒绝/换一个替代”。
- **审计日志（最小）**：记录系统建议/替代/更新的原因与结果，便于建立信任。

**验收标准**

- 用户能在 5 分钟内完成“确认下周清单草稿”，并能看懂“为何替代/替代影响”。

### 11.6 v0.6.0（Level 2）— 动态更新：清单持续更新 + 撤销/回滚 + 摘要推送

**目标**：从“生成一次清单”升级为“清单持续维护”，并提供安全撤销能力。

**交付范围（Must）**

- **动态更新触发**：库存/价格/计划变更触发清单更新（先实现关键触发器）。
- **撤销/回滚**：对清单更新与替代选择支持撤销（至少回到上一个确认快照）。
- **摘要推送**：把多次变更聚合成“摘要”（站内/邮件可选），控制打扰。

**验收标准**

- 用户能看见“本周清单变更摘要”，并能一键撤销到上一确认版本。

### 11.7 v0.7.0+（Level 3，后续）— 单平台一键下单/自动下单（需强风控）

**目标**：在明确授权与风控前提下，把“确认清单”升级为“下单执行”。

**前置条件**

- 家庭确认权限模型明确（谁能替谁下单/确认）
- 支付与风控策略明确（额度、二次确认、异常拦截、审计）

---

<details>
<summary><strong>历史版本：v0.2（2025-10-29 概念稿，归档）</strong></summary>

# 🩺 项目代号：Health Butler（健康管家）v0.2

创建者: Ronn Huang
创建时间: 2025年10月29日 17:15
上次编辑者: Ronn Huang
上次更新时间: 2025年10月29日 20:01

## **🌍 产品愿景**

> 让个人与家庭的健康管理从「主观感性」走向「客观数据驱动」，

> 让饮食成为医疗数据的延伸，

> 让智能食谱成为身体自愈与优化的日常机制。

一句话定义：

> 基于健康数据与电商库存的动态饮食引擎。

---

## **🧭 核心价值主张**

| **用户价值**        | **系统逻辑**                                   |
| ------------------- | ---------------------------------------------- |
| 🎯 不再凭喜好吃饭   | 根据体检数据与目标定制宏量营养比例             |
| 🧠 让AI当家庭营养师 | AI自动制定周期性食谱（周/月/季度）             |
| 🛒 省心采购         | 自动生成购物清单并对接山姆/盒马/叮咚库存       |
| 🧬 数据闭环         | 每轮食谱执行后，根据体检/体重/睡眠数据自动调整 |
| 🕹️ 可持续习惯       | 将健康管理融入日常家庭系统，减少认知疲劳       |

---

## **⚙️ 技术逻辑闭环（核心架构思路）**

```
[体检/健康数据] ⇢ [AI营养引擎] ⇢ [个性化食谱生成] ⇢
[库存同步 / 智能采购] ⇢ [执行 / 打卡 / 数据采集] ⇢
[AI分析 / 调整新一轮计划]
```

### **① 数据输入层**

- 接入体检机构 API 或 OCR 扫描体检单
- 用户基础数据：身高、体重、过敏史、运动量
- 家庭成员档案：年龄、疾病史、BMI、日常活动水平

### **② 算法层（AI 营养引擎）**

- 基于 **宏量营养素计算**（碳/脂/蛋白）+ 微量营养素补充
- 考虑每人差异（老年人降钠、儿童补钙、孕期补铁等）
- 根据目标自动生成周期计划（7天、30天、90天）
- 动态适配季节、地区与电商平台可供食材

### **③ 采购与执行层**

- 接入三大电商API（山姆、盒马、叮咚）
- 根据食谱生成清单 → 查询库存 → 自动匹配SKU → 一键下单
- 预算控制功能（如「控制在500元/周」）
- 自动去重、分类、标注易腐食材保质期

### **④ 数据闭环层**

- 每周体重/体脂变化
- 每月体检数据（API or 上传）
- 系统自动判断营养是否失衡（蛋白摄入不足、脂肪超标等）
- 触发「下一轮优化食谱」

---

## **💎 创新特性亮点**

| **维度**          | **创新点**                                                                     |
| ----------------- | ------------------------------------------------------------------------------ |
| 🧬 健康数据接入   | 与体检机构或可穿戴设备（如华为Watch / Apple Health）连接，实现健康数据自动同步 |
| 🍱 动态食谱生成   | 不再固定菜单，而是“库存+健康状态”双驱动实时更新                                |
| 🛍️ 电商自动下单   | 与山姆 / 盒马 / 叮咚对接，实现食材采购自动化                                   |
| 🧠 家庭个性化模型 | 每个家庭成员都有独立健康档案与AI营养建议                                       |
| 🩻 健康趋势分析   | AI 生成季度健康报告 + 饮食建议书                                               |

---

## **🧩 核心模块规划（初版）**

| **模块名**        | **功能说明**                         |
| ----------------- | ------------------------------------ |
| 👨‍👩‍👧 家庭档案中心   | 家庭成员信息、健康数据、目标管理     |
| 🩺 健康数据同步   | 接入体检API / OCR扫描 / 可穿戴设备   |
| 🧠 AI饮食引擎     | 计算宏量营养分布、生成周期菜单       |
| 🍱 智能食谱中心   | 个性化推荐 + 替换 + 收藏 + 营养报告  |
| 🛒 电商对接层     | 实时库存查询 + SKU映射 + 一键下单    |
| 📊 健康追踪仪表盘 | 体重、体脂、摄入趋势、营养偏差提醒   |
| 🔁 周期更新系统   | 自动复盘上一周期，生成下一轮菜单计划 |

---

## **🧩 数据来源示意**

| **数据源** | **接入方式**   | **数据类型**                       |
| ---------- | -------------- | ---------------------------------- |
| 医疗机构   | API / OCR 扫描 | 血脂、血糖、肝肾功能、体检报告     |
| 可穿戴设备 | SDK 接口       | 运动量、睡眠、心率、卡路里消耗     |
| 用户自录   | 手动输入       | 饮食偏好、口味禁忌、预算、成员数量 |
| 电商平台   | API / 库存爬取 | SKU 名称、价格、库存量             |

---

## **🔒 合规与隐私策略**

- 所有健康数据需用户授权才可读取
- 数据加密存储（AES256）
- 用户可随时导出或删除健康档案
- 接入体检机构时签署数据共享协议（仅用于饮食生成）

---

## **💰 商业模式设想**

| **模式**     | **收益来源**                        |
| ------------ | ----------------------------------- |
| 订阅制       | 个性化营养计划（月卡/年卡）         |
| 电商返佣     | 通过API下单分成（盒马、叮咚、山姆） |
| 健康报告付费 | 高级版体检数据分析报告              |
| 家庭会员制   | 多成员健康档案 + 专属营养师顾问服务 |

---

## **🧭 MVP 可行性路径（建议路线）**

1️⃣ 阶段一（验证价值）：

→ 接入单一平台（如叮咚买菜）

→ 使用固定模板生成7天食谱 + 一键生成购物清单

2️⃣ 阶段二（验证闭环）：

→ 增加OCR识别体检单

→ 实现健康数据与食谱联动

3️⃣ 阶段三（智能化进化）：

→ AI 动态生成食谱 + 实时库存适配

→ 多平台SKU智能对接

4️⃣ 阶段四（生态落地）：

→ 与医疗机构 / 体检中心 / 健康险合作

→ 输出「智能家庭健康管理解决方案」

---

## **✨ 愿景关键词**

**数据驱动 · 健康即服务 · 智能家庭 · 食养合一 · 持续进化**

---

如果你愿意，我可以把上面这份内容整理成：

- 📘 HealthButler_Concept.md —— Claude 或 Cursor 直接可用
- 📊 一张「系统架构图 + 数据流图」（可生成视觉图稿）
- 📄 一页式 “愿景宣言文案” 用于 Pitch Deck/网站介绍

👉 你想我先帮你生成哪一个？（概念文件 / 架构图 / 宣言文案）

</details>
